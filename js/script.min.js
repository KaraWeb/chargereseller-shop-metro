$(document).ready(function(){function a(a){"Success"==a.status?"Zarinpal"==$("#dataIssuer").val()?(Zarinak.setAuthority(a.paymentInfo.paymentGateway.authority),Zarinak.open(),$(".connecting p").text("\u0644\u0637\u0641\u0627\u064B \u0635\u0628\u0631 \u06A9\u0646\u06CC\u062F ...")):window.location.replace(a.paymentInfo.url):(o=!1,$(".load section:first-child").hide(),$(".load section:last-child p").text(a.errorMessage),$(".load section:last-child").removeClass("hide"),$(".load section:last-child").show())}function b(){$(".hint-cell, .hint-mail").slideUp(),$(".hint-cell p").text("\u0634\u0645\u0627\u0631\u0647 \u0648\u0627\u0631\u062F \u0634\u062F\u0647 \u0635\u062D\u06CC\u062D \u0646\u06CC\u0633\u062A."),$("#dataCellphone").val($("input.cellphone").val()),$("#dataEmail").val($("input.email").val()),l=!1;var a=!0,b=!0,c=!0,d=!0,e=!0,f=$("input.cellphone").val(),g=$("input.email").val(),h=m;if(-1<jQuery.inArray(m,["PIN","TopUp","WiMax"])&&(h="charge"),"TopUp"==m){o||(11!=f.length||isNaN(f)||-1===jQuery.inArray(f.substr(0,3),["090","091","092","093","099"])?b=!1:"MTN"==p||"MTN!"==p?-1==jQuery.inArray(f.substring(0,3),["093","090"])&&(c=!1):"MCI"==p?-1==jQuery.inArray(f.substring(0,3),["091","099"])&&(c=!1):"RTL"==p&&-1==jQuery.inArray(f.substring(0,4),["0921","0922"])&&(c=!1));var j=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;0<g.length&&!j.test(g)&&(d=!1)}else if("PIN"==m){if((0==f.length||-1!=jQuery.inArray(f,["093","090","091","092"]))&&0==g.length)b=!1,a=!1,$(".hint-cell p").text("\u062C\u0647\u062A \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u062E\u062F\u0645\u0627\u062A \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC\u060C \u0627\u06CC\u0645\u06CC\u0644 \u06CC\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06CC\u0644 \u062E\u0648\u062F \u0631\u0627 \u0648\u0627\u0631\u062F \u0646\u0645\u0627\u06CC\u06CC\u062F.");else{var j=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;0<g.length&&!j.test(g)&&(d=!1),d&&-1==jQuery.inArray(f,["093","090","091","092"])&&(11!=f.length||isNaN(f)?0==f.length?b=!0:b=!1:-1==jQuery.inArray(f.substr(0,3),["090","091","092","093","099"])?b=!1:b=!0)}}else if("InternetPackage"==m){var k={mtn:/(0)?9([0,3]{1})\d{8}/,mci:/(0)?9([1,9]{1})\d{8}/,tdlte:/(0)?94\d{8}/,rtl:/^([0]{1})([9]{1})([2]{1})([1,2]{1})([0-9]{7})$/},q=k[p.toLowerCase()],r=$(".internet-package").find("section.active").data("type");r.includes("\u062B\u0627\u0628\u062A")&&(q=k.tdlte),o||(11!=f.length||isNaN(f)||-1===jQuery.inArray(f.substr(0,3),["090","091","092","093","099"])?b=!1:!q.test(f)&&(c=!1))}else if(0==f.length&&0==g.length)a=!1,"bill-payment"==$("#dataChargeKind").val()?$(".hint-cell p").text("\u062C\u0647\u062A \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u062E\u062F\u0645\u0627\u062A \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC\u060C \u0627\u06CC\u0645\u06CC\u0644 \u06CC\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06CC\u0644 \u062E\u0648\u062F \u0631\u0627 \u0648\u0627\u0631\u062F \u0646\u0645\u0627\u06CC\u06CC\u062F."):$(".hint-cell p").text("\u0633\u0631\u06CC\u0627\u0644 \u0645\u062D\u0635\u0648\u0644\u0627\u062A \u062E\u0631\u06CC\u062F\u0627\u0631\u06CC \u0634\u062F\u0647 \u062A\u0646\u0647\u0627 \u0628\u0647 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0634\u0645\u0627 \u0627\u0631\u0633\u0627\u0644 \u062E\u0648\u0627\u0647\u062F \u0634\u062F.");else{var j=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;0<g.length&&!j.test(g)&&(d=!1),0<f.length?11!=f.length||isNaN(f)?b=!1:-1==jQuery.inArray(f.substr(0,3),["090","091","092","093","099"])?b=!1:b=!0:(b=!1,$(".hint-cell p").text("\u0633\u0631\u06CC\u0627\u0644 \u0645\u062D\u0635\u0648\u0644\u0627\u062A \u062E\u0631\u06CC\u062F\u0627\u0631\u06CC \u0634\u062F\u0647 \u062A\u0646\u0647\u0627 \u0628\u0647 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0634\u0645\u0627 \u0627\u0631\u0633\u0627\u0644 \u062E\u0648\u0627\u0647\u062F \u0634\u062F."))}return!1!=c||"TopUp"!=m&&"InternetPackage"!=m||o?void(!1==b?($(".hint-cell").slideDown(),$(".information").css("padding","15px 0")):($(".hint-cell").slideUp(),$(".information").css("padding","36px 0")),!1==d?($(".hint-mail").slideDown(),$(".information").css("padding","15px 0")):($(".hint-mail").slideUp(),$(".information").css("padding","36px 0")),!1==a&&($(".hint-cell").slideDown(),$(".information").css("padding","15px 0")),("PIN"==m||"TopUp"==m)&&(500>$("input#dataAmount").val()||5e4<$("input#dataAmount").val()?(0>=$("div.input.text.amount div.message").length&&($("div.input.text.amount").prepend("<div class=\"message error-message\">\u0645\u0628\u0644\u063A \u0648\u0627\u0631\u062F \u0634\u062F\u0647 \u0645\u06CC\u0628\u0627\u06CC\u0633\u062A \u0628\u0632\u0631\u06AF\u062A\u0631 \u0627\u0632 500 \u0648 \u06A9\u0648\u0686\u06A9 \u062A\u0631 \u0627\u0632 50\u060C000 \u062A\u0648\u0645\u0627\u0646 \u0628\u0627\u0634\u062F.</div>"),$("div.input.select.amount").prepend("<div class=\"message error-message\">\u0645\u0628\u0644\u063A \u0648\u0627\u0631\u062F \u0634\u062F\u0647 \u0645\u06CC\u0628\u0627\u06CC\u0633\u062A \u0628\u0632\u0631\u06AF\u062A\u0631 \u0627\u0632 500 \u0648 \u06A9\u0648\u0686\u06A9 \u062A\u0631 \u0627\u0632 50\u060C000 \u062A\u0648\u0645\u0627\u0646 \u0628\u0627\u0634\u062F.</div>")),e=!1):($("div.input.text.amount div.message").remove(),e=!0)),l=!!(a&&b&&d&&e&&c)):void Swal.fire({title:"",text:"\u0634\u0645\u0627 "+("TopUp"===m?"\u0634\u0627\u0631\u0698 \u0645\u0633\u062A\u0642\u06CC\u0645":"\u0628\u0633\u062A\u0647 \u0627\u06CC\u0646\u062A\u0631\u0646\u062A")+" "+n[p]+" \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0631\u062F\u06CC\u062F \u0627\u0645\u0627 \u0634\u0645\u0627\u0631\u0647 "+f+" \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0627\u067E\u0631\u0627\u062A\u0648\u0631 "+n[p]+" \u0646\u06CC\u0633\u062A! \u0622\u06CC\u0627 \u0627\u06CC\u0646 \u0634\u0645\u0627\u0631\u0647 \u0631\u0627 \u0628\u0647 "+n[p]+" \u062A\u0631\u0627\u0628\u0631\u062F \u06A9\u0631\u062F\u06CC\u062F\u061F\n",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0628\u0644\u0647 \u062A\u0631\u0627\u0628\u0631\u062F \u06A9\u0631\u062F\u0645.",cancelButtonText:"\u062E\u06CC\u0631 \u0627\u0634\u062A\u0628\u0627\u0647 \u0634\u062F."}).then(a=>{a.value?(c=!0,o=!0,$("#dataIsTarabord").val(!0),$(document).find("input[type=\"submit\"]").trigger("click")):Swal.fire({title:"",text:"\u0634\u0645\u0627\u0631\u0647 \u0635\u062D\u06CC\u062D  \u0627\u067E\u0631\u0627\u062A\u0648\u0631 "+n[p]+" \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F.",type:"warning",confirmButtonText:"\u0628\u0627\u0634\u0647."})})}function c(a){var b=a.substr(a.length-1,1);for(a=a.substr(0,a.length-1),a=a.split(""),coefficient=2,billLength=a.length,sum=0,i=billLength-1;0<=i;i--)sum+=coefficient*a[i],coefficient++,8==coefficient&&(coefficient=2);return calculatedCheckSum=sum%11,calculatedCheckSum=1==calculatedCheckSum||0==calculatedCheckSum?0:11-calculatedCheckSum,calculatedCheckSum==b}function d(){var a=0;$.each(paymentGateways,function(b,c){$(".gateway[data-gateway-type="+c+"]").css("display","inline-block"),a+=1}),3<a?$(".gateways-container").css("margin","10px auto"):$(".gateways-container").css("margin","40px auto"),$.each(products,function(a,b){jQuery.isEmptyObject(b)&&$("#content fieldset > ."+a).html("<p class=\"service-caution\">\u062F\u0631 \u062D\u0627\u0644 \u062D\u0627\u0636\u0631 \u062F\u0631 \u0627\u06CC\u0646 \u062F\u0633\u062A\u0647 \u0645\u062D\u0635\u0648\u0644\u06CC \u0628\u0631\u0627\u06CC \u0641\u0631\u0648\u0634 \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F.</p>")}),$.each(paymentGateways,function(a,b){$("div.payment-gateways ul li#"+b).attr("style","display:inline-block;")}),$("div.payment-gateways ul").attr("style","width:"+55*paymentGateways.length+"px;"),$.each(products.giftCard,function(a,b){""==b||null==b?$(".giftcard-types."+a).hide():$(".giftcard-types."+a).css("display","inline-block")}),$.each(products.antivirus,function(a,b){a=a.toLowerCase(),""==b||null==b?$(".antivirus-types."+a).hide():$(".antivirus-types."+a).css("display","inline-block")}),$(".bgs").slideDown(300);var b=window.location.href;b.match("#topup$")?$("div[data-type=\"TopUp\"]").trigger("click"):b.match("#pin$")?$("div[data-type=\"PIN\"]").trigger("click"):b.match("#internetPackage$")?$("div[data-type=\"InternetPackage\"]").trigger("click"):b.match("#bill$")?$("div[data-type=\"bill-payment\"]").trigger("click"):b.match("#giftcard$")?$("div[data-type=\"giftcard\"]").trigger("click"):b.match("#antivirus$")&&$("div[data-type=\"antivirus\"]").trigger("click")}function e(a,b){var c="";if(""!=b)var d=products[a][b];else var d=products[a];groupPascalCase=a.charAt(0).toUpperCase()+a.slice(1),$.each(d,function(a,b){c+="<section data-product-id=\""+b.id+"\" data-price=\""+b.price+"\"><div  class=\"credit-info\">"+b.name+"</div><div class=\"price-info\">"+b.price+" \u062A\u0648\u0645\u0627\u0646</div><div class='clear'></div></section>"}),$(".list").html(c).show(),$("#dataProductId").val($(".list section:first-child").data("product-id")),$("#dataAmount").val($(".list section:first-child").data("price")),$(".list section:first-child").addClass("active"),f(),$("#product-type").html($(".list section.active div:first-child").html())}function f(){$(".list section div:first-child").css("direction","rtl"),$(".list section div:first-child:contains(\"\u06AF\u06CC\u0641\u062A \u06A9\u0627\u0631\u062A\")").each(function(){$(this).html($(this).html().split("\u06AF\u06CC\u0641\u062A \u06A9\u0627\u0631\u062A").join(""))}),$(".list section div:first-child:contains(\"XBox\")").each(function(){$(this).html($(this).html().split("XBox").join("\u0627\u06CC\u06A9\u0633 \u0628\u0627\u06A9\u0633 "))}),$(".list section div:first-child:contains(\"PlayStationNetwork\")").each(function(){$(this).html($(this).html().split("PlayStationNetwork").join("")),$(this).prepend("\u067E\u0644\u06CC \u0627\u0633\u062A\u06CC\u0634\u0646 ")}),$(".package section div:first-child:contains(\"\u0627\u06CC\u0646\u062A\u0631\u0646\u062A \u0627\u06CC\u0631\u0627\u0646\u0633\u0644\")").each(function(){$(this).html($(this).html().split("\u0627\u06CC\u0646\u062A\u0631\u0646\u062A \u0627\u06CC\u0631\u0627\u0646\u0633\u0644").join(""))}),$(".package section div:first-child:contains(\"\u0627\u06CC\u0646\u062A\u0631\u0646\u062A \u062B\u0627\u0628\u062A TDLTE\")").each(function(){$(this).html($(this).html().split("\u0627\u06CC\u0646\u062A\u0631\u0646\u062A \u062B\u0627\u0628\u062A TDLTE").join("\u062B\u0627\u0628\u062A"))}),$(".package section div:first-child:contains(\"(\u0645\u0634\u062A\u0631\u06A9\u06CC\u0646 \u062F\u0627\u0626\u0645\u06CC)\")").each(function(){$(this).html($(this).html().split("(\u0645\u0634\u062A\u0631\u06A9\u06CC\u0646 \u062F\u0627\u0626\u0645\u06CC)").join(""))}),$(".package section div:first-child:contains(\"(\u0645\u0634\u062A\u0631\u06A9\u06CC\u0646 \u0627\u0639\u062A\u0628\u0627\u0631\u06CC)\")").each(function(){$(this).html($(this).html().split("(\u0645\u0634\u062A\u0631\u06A9\u06CC\u0646 \u0627\u0639\u062A\u0628\u0627\u0631\u06CC)").join(""))})}function g(a,b,c,d){var e=products.internetPackage[a];if(null==b)$("section.internet-package").find(".sim-type").html("<div class='clear'></div>"),$.each(e,function(a){$("section.internet-package").find(".sim-type").append("<section data-type='"+a+"'><label class='charge-type'><input type='radio' name='radio-sim-type' class='charge-button'/><p>"+a+"</p></label></section>")}),$("section.internet-package").find(".sim-type section").first().trigger("click");else if(null==c){var f=e[b];$("section.internet-package").find("select").html(""),$.each(f,function(a){$("section.internet-package").find("select").append("<option data-package-type='"+a+"'>"+a+"</option>")}),$("section.internet-package").find("select").first().trigger("change")}else{var g=e[b][c];$(".package").html(""),null==g?$(".package").html("\u0628\u0633\u062A\u0647 \u0627\u06CC \u062F\u0631 \u0627\u06CC\u0646 \u062F\u0633\u062A\u0647 \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F."):($.each(g,function(a,b){var c="<section data-package-id=\""+b.id+"\" data-price=\""+b.price+"\"><div  class=\"credit-info\">"+b.name+", "+b.price+" \u062A\u0648\u0645\u0627\u0646</div></section>";$(".package").append(c)}),null==d?$(".package section").first().trigger("click"):$(".package").find("section[data-package-id=\""+d+"\"]").trigger("click"))}}function h(){var a=$(".counter").val(),b=$("#dataAmount").val();$("input[name='data[count]']").val(a),""==b?($("#product-count").html(""),$("#product-price").html(""),$("#final-price , .price").html("")):($("#product-count").html(a+"&nbsp\u0639\u062F\u062F"),$("#product-price").html(b+"&nbsp\u062A\u0648\u0645\u0627\u0646"),$("#final-price , .price").html(b*a+"&nbsp\u062A\u0648\u0645\u0627\u0646"),$("get-final-price").val(b))}function j(){var a=$("#dataAmount").val();$("#dataCount").val(1),""==a?$("#package-price").html(""):$("#package-price").html(a*1+"&nbsp\u062A\u0648\u0645\u0627\u0646")}function k(){if(501>$(window).outerWidth()){var a=($(window).height()-$(".slider").height()-31)/3+"px";$(".menu div").css("height",a)}else $(".menu div").css("height","auto")}var l=!1,m="TopUp",n={MTN:"\u0627\u06CC\u0631\u0627\u0646\u0633\u0644",MCI:"\u0647\u0645\u0631\u0627\u0647 \u0627\u0648\u0644",RTL:"\u0631\u0627\u06CC\u062A\u0644"},o=!1,p="MTN",q=$(window).outerHeight();638<q&&(q=638),$("#dataChargeKind").val("");var r=q-175;$(".load").css("height",q+"px"),$(".sticky-menu").hide(),$("#CellphoneInput").val($.cookie("cellphone")),$("#EmailInput").val($.cookie("email")),$(window).ready(function(){1001>$(window).outerWidth()?$(".slider").css("height","auto"):$(".slider").css("height",r+"px"),k()}),$(window).resize(function(){1001>$(window).outerWidth()?$(".slider").css("height","auto"):$(".slider").css("height",r+"px"),k()});var s=0;$(".menu div").click(function(){if(0==s&&($(".sticky-menu").fadeIn(),s++),$(this).data("type")==$("#dataChargeKind").val())return!1;$(".invoice .antivirus li").css("margin-bottom","15px"),$(".giftcard-types").removeClass("active"),$(".antivirus-types").removeClass("active");var a="."+$(this).data("type").toLowerCase();return".internetpackage"==a&&(a=".internet-package"),$(".invoice div").slideUp(300,"swing"),$(".invoice "+a).slideDown(300,"swing"),$(".hint-cell, .hint-mail").slideUp(),$(".information").css("padding","36px 0"),$(".checkbox").prop("checked",!1),$(".operator").removeClass("active"),$(".menu div").removeClass("active"),$(this).addClass("active"),$("#dataChargeKind").val($(this).data("type")),m=$("#dataChargeKind").val(),p="MTN",$(a+" div:first-child div:first-child").addClass("active"),$(".slider, .header").slideUp(700,"swing"),$(".content").slideDown(1100,"swing"),$(".bargain > section").slideUp(),$(a).slideDown(),$("#product-type").html($(a+" div:first-child div:first-child").data("name")),$("#dataType").val($(a+" div:first-child div:first-child").data("type")),$(".charge-button").prop("checked",!1),$(a+" .charge-type-container section:first-child input").prop("checked",!0),$(".charge-type div").hide(),$(a+" .charge-type-container section:first-child div").show(),$("#dataAmount").val($(a+" .charge-type-container section:first-child label").data("price")),$(".counter").val(1),$(".magiccharge, .nonecredit-mtn, .wimax").show(),"giftcard"==$(this).data("type")&&e("giftCard",$(".giftcard-types.active").data("giftcard-type")),"antivirus"==$(this).data("type")&&(e("antivirus",$(".antivirus-types.active").data("antivirus-type")),$(".invoice .antivirus li").css("margin-bottom","5px")),"InternetPackage"==$(this).data("type")?(g("mtn"),void j()):void h()}),$(".charge-type").click(function(){$(".charge-type div").hide(),$(this).find("div").show(),$(".counter").val(1),price=$(this).data("price"),$("#dataAmount").val(price),$("#product-price").html(price+"&nbsp\u062A\u0648\u0645\u0627\u0646"),h()}),$(".operator").click(function(){$(".checkbox").prop("checked",!1),$(".operator").removeClass("active"),$(this).addClass("active"),$(".counter").val(1),$("#product-type").html($(this).data("name")),$("#dataType").val($(this).data("type")),p=$(this).data("type"),"MTN"==$("#dataType").val()?($(".magiccharge label").text("\u0634\u0627\u0631\u0698 \u0634\u06AF\u0641\u062A \u0627\u0646\u06AF\u06CC\u0632"),$(".magiccharge, .nonecredit-mtn, .wimax").show()):"RTL"==$("#dataType").val()?($(".magiccharge label").text("\u0634\u0627\u0631\u0698 \u0634\u0648\u0631 \u0627\u0646\u06AF\u06CC\u0632"),$(".magiccharge").show(),$(".nonecredit-mtn, .wimax").hide()):$(".magiccharge, .nonecredit-mtn, .wimax").hide(),h()}),$(".increase").click(function(){countBoxValue=parseInt($(".counter").val()),1<=countBoxValue&&5>countBoxValue&&($(".counter").val(countBoxValue+1),h())}),$(".decrease").click(function(){countBoxValue=parseInt($(".counter").val()),1<countBoxValue&&($(".counter").val(countBoxValue-1),h())}),$(".checkbox").change(function(){var a=$(this).attr("id");$.each(["magiccharge","nonecredit-mtn","wimax"],function(b,c){a!=c&&$("#"+c).prop("checked",!1)}),"MTN"==$("#dataType").val()||"MTN!"==$("#dataType").val()||"MTN#"==$("#dataType").val()||"WiMax"==$("#dataType").val()?("magiccharge"==a?$("#dataType").val("MTN!"):"nonecredit-mtn"==a?$("#dataType").val("MTN#"):"wimax"==a&&$("#dataType").val("WiMax"),!1==$(this).prop("checked")&&$("#dataType").val("MTN")):("RTL"==$("#dataType").val()||"RTL!"==$("#dataType").val())&&("magiccharge"==a&&$("#dataType").val("RTL!"),!1==$(this).prop("checked")&&$("#dataType").val("RTL")),p=$("#dataType").val()}),$(document).on("input","input.cellphone",function(){this.value=this.value.replace(/[^\d\.\-]/g,"")}),$(".counter").keydown(function(){return!1}),$(".internet-package option").click(function(){$(".package div").hide();var a=$(this).data("package-type").toLowerCase();$("."+a).slideDown()}),$("section.internet-package select").change(function(){"IN-MTN-TDLTE"==$(this).find(":selected").data("package-type")?($(".sim-type").hide(),$(".package").css("margin-top","30px")):($(".sim-type").show(),$(".package").css("margin-top","0px"))}),$(document).on("click",".package section",function(){$(".package section").removeClass("active"),$(this).addClass("active"),$("#dataPackageId").val($(this).data("package-id")),$("#dataAmount").val($(this).data("price"));var a=$(this).find("div").html().split(",")[0];$("#package-name").text(a),j()}),$(".return").click(function(){$(".load").fadeOut()}),$(".giftcard-types").click(function(){$(".giftcard-types").removeClass("active"),$(this).addClass("active"),$(".counter").val(1),e("giftCard",$(this).data("giftcard-type")),h()}),$(".antivirus-types").click(function(){$(".antivirus-types").removeClass("active"),$(this).addClass("active"),$(".counter").val(1),e("antivirus",$(this).data("antivirus-type")),h()}),$(document).on("click",".list section",function(){$(".list section").removeClass("active"),$(this).addClass("active"),$("#dataProductId").val($(this).data("product-id")),$("#dataAmount").val($(this).data("price")),$("#product-type").html($(".list section.active div:first-child").html()),h()}),$(".gateway").click(function(){$(".gateway").removeClass("active"),$(this).addClass("active"),$("#dataIssuer").val($(this).data("gateway-type"))}),$(".submit").click(function(c){if("bill-payment"==$("#dataChargeKind").val()&&(""==$("#dataBillId").val()||""==$("#dataPaymentId")))return $(".hint-bill").text("\u0634\u0646\u0627\u0633\u0647 \u0642\u0628\u0636 \u0648 \u0634\u0646\u0627\u0633\u0647 \u067E\u0631\u062F\u0627\u062E\u062A \u0631\u0627 \u0648\u0627\u0631\u062F \u0646\u0645\u0627\u06CC\u06CC\u062F","\u062A\u0630\u06A9\u0631"),$(".hint-bill").slideDown(),!1;$(".load section:first-child").fadeIn(),$(".load section:last-child").hide(),c.preventDefault();var d="";return"TopUp"==$("#dataChargeKind").val()?d="topup":"InternetPackage"==$("#dataChargeKind").val()?d="internetRecharge":"bill-payment"==$("#dataChargeKind").val()?d="bill":"PIN"==$("#dataChargeKind").val()?(d="buyProduct",$("#dataProductId").val("CC-"+$("#dataType").val()+"-"+$("#dataAmount").val())):d="buyProduct",b(),l&&($(".load").fadeIn(),$(".load section:first-child p").text("\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A ..."),$.ajax({type:"POST",url:"https://chr724.ir/services/v3/EasyCharge/"+d,data:$("form#myForm").serialize(),async:!1,contentType:"application/json",dataType:"jsonp",crossDomain:!0,success:function(b){$(".load section:first-child p").text("\u0627\u0646\u062A\u0642\u0627\u0644 \u0628\u0647 \u0628\u0627\u0646\u06A9 ..."),a(b)},error:function(a){o=!1,$(".load section:first-child").fadeOut(),$(".load section:last-child p").text("\u062F\u0631 \u062D\u0627\u0644 \u062D\u0627\u0636\u0631 \u0627\u0645\u06A9\u0627\u0646 \u0628\u0631\u0642\u0631\u0627\u0631 \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631 \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F. (\u062E\u0637\u0627: "+a.status+")<br>\u0644\u0637\u0641\u0627\u064B \u0628\u0639\u062F\u0627\u064B \u0645\u0631\u0627\u062C\u0639\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F.","\u062E\u0637\u0627"),$(".load section:last-child").removeClass("hide")}}),$("input.save-information").prop("checked")&&($.cookie("cellphone",$("input#dataCellphone").val()),$.cookie("email",$("input#dataEmail").val()))),!1}),$("input#CheckBill").click(function(){$(".invoice .bill-payment .final-price").text(""),$(".invoice .bill-payment .product-type").css("display","none"),$(".hint-bill, .hint-pay").slideUp();var a=!0,b=!0,d=!0,e=!0,f=$("#CellphoneInput").val(),g=$("#EmailInput").val(),h=$("#BillId").val(),j=$("#PaymentId").val();if(""==h||""==j)return e=!0,$(".hint-bill").text("\u0634\u0646\u0627\u0633\u0647 \u0642\u0628\u0636 \u0648 \u0634\u0646\u0627\u0633\u0647 \u067E\u0631\u062F\u0627\u062E\u062A \u0631\u0627 \u0648\u0627\u0631\u062F \u0646\u0645\u0627\u06CC\u06CC\u062F","\u062A\u0630\u06A9\u0631"),void $(".hint-bill").slideDown();if(isNaN(h)||isNaN(j)?(e=!1,$(".hint-bill").text("\u0634\u0646\u0627\u0633\u0647 \u0642\u0628\u0636 \u0648 \u0634\u0646\u0627\u0633\u0647 \u067E\u0631\u062F\u0627\u062E\u062A \u0641\u0642\u0637 \u0628\u0627\u06CC\u062F \u0639\u062F\u062F \u0628\u0627\u0634\u0646\u062F.","\u062A\u0630\u06A9\u0631"),$(".hint-bill").slideDown()):(!c(h.replace(/^[0]+/g,""))&&(a=!1),!c(j.substr(0,j.length-1).replace(/^[0]+/g,""))&&(b=!1),!c(h.replace(/^[0]+/g,"")+j.replace(/^[0]+/g,""))&&(d=!1)),e&&a&&b){if(!d)return $(".hint-bill").text("\u0634\u0646\u0627\u0633\u0647 \u0642\u0628\u0636 \u0628\u0627 \u0634\u0646\u0627\u0633\u0647 \u067E\u0631\u062F\u0627\u062E\u062A \u0647\u0645\u062E\u0648\u0627\u0646\u06CC \u0646\u062F\u0627\u0631\u062F.","\u062A\u0630\u06A9\u0631"),void $(".hint-bill").slideDown();var k=h.length,l=j.length,m=h.substr(k-2,1)-1,n=100*j.substr(0,l-5);$("#dataBillId").val(h),$("#dataPaymentId").val(j),$("#dataAmount").val(n),$(".invoice .bil-payment .product-type").text(["\u0622\u0628","\u0628\u0631\u0642","\u06AF\u0627\u0632","\u062A\u0644\u0641\u0646 \u062B\u0627\u0628\u062A","\u062A\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647","\u0639\u0648\u0627\u0631\u0636 \u0634\u0647\u0631\u062F\u0627\u0631\u06CC","","","\u0631\u0627\u0647\u0646\u0645\u0627\u06CC\u06CC \u0648 \u0631\u0627\u0646\u0646\u062F\u06AF\u06CC"][m]),$(".invoice .bill-payment .final-price").text(n+" \u062A\u0648\u0645\u0627\u0646"),$(".invoice .bill-payment .product-type").addClass(["water","electricity","gas","telephone","cellphone","mayoralty","","","police"][m]),$(".invoice .bill-payment .product-type").css("display","inline-block")}!1==a&&0>=$(".buy.bill .bill-id div.message").length&&($(".hint-bill").text("\u0634\u0646\u0627\u0633\u0647 \u0642\u0628\u0636 \u0645\u0639\u062A\u0628\u0631 \u0646\u06CC\u0633\u062A."),$(".hint-bill").slideDown()),!1==b&&0>=$(".buy.bill .payment-id div.message").length&&($(".hint-pay").text("\u0634\u0646\u0627\u0633\u0647 \u067E\u0631\u062F\u0627\u062E\u062A \u0645\u0639\u062A\u0628\u0631 \u0646\u06CC\u0633\u062A."),$(".hint-pay").slideDown())}),$.ajax({type:"GET",url:"https://chr724.ir/services/v3/EasyCharge/initializeDataCategorizedFormat",data:"{}",async:!1,contentType:"application/json",dataType:"jsonp",crossDomain:!0,success:function(a){products=a.products,paymentGateways=a.paymentGateways,d(),$(".load").fadeOut()},error:function(a){$(".load section:first-child").hide(),$(".load section:last-child p").text("\u062F\u0631 \u062D\u0627\u0644 \u062D\u0627\u0636\u0631 \u0627\u0645\u06A9\u0627\u0646 \u0628\u0631\u0642\u0631\u0627\u0631 \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631 \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F. (\u062E\u0637\u0627: "+a.status+")\u0644\u0637\u0641\u0627\u064B \u0628\u0639\u062F\u0627\u064B \u0645\u0631\u0627\u062C\u0639\u0647 \u0646\u0645\u0627\u06CC\u06CC\u062F.","\u062E\u0637\u0627"),$(".load section:last-child").removeClass("hide")}}),$(".internet-package").find(".operator").on("click",function(){p=$(this).data("type"),g($(this).data("type").toLowerCase())}),$(".internet-package .sim-type").on("click","section",function(){var a=$(this).find("input:radio").prop("checked",!0);$(a).parent().parent().parent().find("section.active").removeClass("active"),$(a).parent().parent().addClass("active"),g($(".internet-package").find(".operator.active").data("type").toLowerCase(),$(this).data("type"))}),$(".internet-package").on("change","select",function(){g($(".internet-package").find(".operator.active").data("type").toLowerCase(),$(".internet-package").find("section.active").data("type"),$(this).find("option:selected").data("package-type"))}),$(".save label").on("click",function(){!0==$(".save-information").prop("checked")&&($.cookie("cellphone",$("#dataCellphone").val()),$.cookie("email",$("#dataEmail").val()))})});